<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Categorias | Sal√£o</title>

  <link rel="stylesheet" href="assets/css/style.css" />
</head>

<body>
  <header class="app-header">
    <div class="app-header__inner">
      <h1 class="app-title">Categorias</h1>

      <nav class="app-nav" aria-label="Navega√ß√£o principal">
        <a class="app-nav__link" href="dashboard.html">Dashboard</a>
        <a class="app-nav__link" href="index.html">Cadastro</a>
        <a class="app-nav__link" href="lancamentos.html">Lan√ßamentos</a>
        <a class="app-nav__link" href="resumo.html">Resumo</a>
        <a class="app-nav__link app-nav__link--active" href="categoria.html">Categorias</a>
        <button type="button" id="themeToggle" class="theme-toggle" title="Alternar tema">üåô</button>
      </nav>
    </div>
  </header>

  <main class="app-main">
    <!-- CADASTRO (NOVO / EDITAR) -->
    <section class="card">
      <div class="card__header">
        <h2 class="card__title">Cadastro</h2>
        <p class="card__desc">Crie categorias e descri√ß√µes padr√£o para facilitar os lan√ßamentos.</p>
      </div>

      <div class="card__body">
        <form id="formCategoria" autocomplete="off">
          <input type="hidden" id="ID_Categoria" name="ID_Categoria" />

          <div class="form-row">
            <div class="field">
              <label class="label" for="Tipo">Tipo *</label>
              <select class="select" id="Tipo" name="Tipo" required>
                <option value="">Selecione</option>
                <option value="Entrada">Entrada</option>
                <option value="Saida">Sa√≠da</option>
                <option value="Transfer√™ncia">Transfer√™ncia</option>
              </select>
              <small class="hint">Ajuda a filtrar na hora do lan√ßamento.</small>
            </div>

            <div class="field">
              <label class="label" for="Ativo">Ativo</label>
              <select class="select" id="Ativo" name="Ativo">
                <option value="Sim">Sim</option>
                <option value="Nao">N√£o</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="field">
              <label class="label" for="Categoria">Categoria *</label>
              <input class="input" type="text" id="Categoria" name="Categoria" required placeholder="Ex.: Procedimentos, Aluguel, Produtos..." />
            </div>

            <div class="field">
              <label class="label" for="Ordem">Ordem</label>
              <input class="input" type="number" id="Ordem" name="Ordem" min="0" step="1" placeholder="Ex.: 10" />
              <small class="hint">Opcional: controla a ordem na lista.</small>
            </div>
          </div>

          <div class="form-row">
            <div class="field field--full">
              <label class="label" for="Descricao_Padrao">Descricao padr√£o</label>
              <input class="input" type="text" id="Descricao_Padrao" name="Descricao_Padrao" placeholder="Ex.: Progressiva | Manicure | Luzes..." />
              <small class="hint">Opcional: texto sugerido para o campo Descricao no lan√ßamento.</small>
            </div>
          </div>

          <div class="actions">
            <button type="submit" id="btnSalvarCategoria" class="btn btn--primary">Salvar</button>
            <button type="button" id="btnNovoCategoria" class="btn btn--secondary">Novo</button>
          </div>

          <div id="feedbackCategoriaSalvar" class="feedback" aria-live="polite" role="status"></div>
        </form>
      </div>
    </section>

    <!-- FILTRO / BUSCA -->
    <section class="card">
      <div class="card__header">
        <h2 class="card__title">Filtro</h2>
        <p class="card__desc">Pesquise por categoria ou descri√ß√£o padr√£o.</p>
      </div>

      <div class="card__body">
        <form id="formFiltroCategoria" autocomplete="off">
          <div class="form-row">
            <div class="field">
              <label class="label" for="fTipo">Tipo</label>
              <select class="select" id="fTipo" name="fTipo">
                <option value="">Todos</option>
                <option value="Entrada">Entrada</option>
                <option value="Saida">Sa√≠da</option>
                <option value="Transfer√™ncia">Transfer√™ncia</option>
              </select>
            </div>

            <div class="field field--full">
              <label class="label" for="fQ">Busca</label>
              <div class="input-group">
                <input class="input" type="text" id="fQ" name="fQ" placeholder="Ex.: progressiva, aluguel, produtos..." />
                <button type="button" id="btnFiltrarCategoria" class="btn btn--secondary">Filtrar</button>
                <button type="button" id="btnLimparFiltroCategoria" class="btn">Limpar</button>
              </div>
            </div>
          </div>
        </form>

        <div id="feedbackCategoriaLista" class="feedback" aria-live="polite" role="status"></div>
      </div>
    </section>

    <!-- LISTA -->
    <section class="card">
      <div class="card__header">
        <h2 class="card__title">Lista</h2>
        <p class="card__desc">Clique em uma linha para editar.</p>
      </div>

      <div class="card__body">
        <div class="table-wrap" aria-label="Tabela de categorias">
          <table class="table" id="tabelaCategorias">
            <thead>
              <tr>
                <th>Tipo</th>
                <th>Categoria</th>
                <th>Descricao padr√£o</th>
                <th>Ativo</th>
                <th>Ordem</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <small class="hint" style="margin-top:.75rem; display:block;">
          Dica: mantenha ‚ÄúAtivo = Sim‚Äù para aparecer como sugest√£o no lan√ßamento.
        </small>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <small>Categorias ‚Ä¢ Google Planilhas + Apps Script</small>
  </footer>

  <script src="assets/js/theme.js"></script>
  <script src="assets/js/config.js"></script>
  <script src="assets/js/auth.js"></script>
  <script src="assets/js/api.js"></script>
  <script src="assets/js/search.js"></script>
  <script src="assets/js/categoria.js" defer></script>
</body>
</html>
